<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.tjournal.follow.IFollowMybatisMapper">

    <insert id="insert" parameterType="FollowDto" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO follower_tbl ( followingId
                               , followerId)
        VALUES ( #{followingId}
               , #{followerId})
    </insert>

<!--  특정 사용자가 팔로우한 다른 사용자 목록을 조회.  -->
    <select id="getFollowingsByUserId" parameterType="long" resultType="Integer">
        SELECT COUNT(*)
        FROM follower_tbl
        WHERE follower_id = #{id};

    </select>

<!--  특정 사용자를 팔로우한 사람들의 목록을 조회.  -->
    <select id="getFollowersByUserId" parameterType="long" resultType="Integer">
        SELECT COUNT(*)
        FROM follower_tbl
        WHERE following_id = #{id};
    </select>
</mapper>
